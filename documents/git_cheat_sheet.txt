# Git Branch & PR Cheat Sheet

## 1ï¸âƒ£ Creating Branches
- **New local branch (no remote yet)**
git switch -c branch-name
Creates and switches to a new branch from your current branch (usually `main`).

- **New branch and push to remote**
git push -u origin branch-name
Links your local branch with the remote branch so `git push` / `git pull` work without extra parameters.

## 2ï¸âƒ£ Pulling Changes
- **From the branch youâ€™re on**
git pull
If the branch is linked to a remote branch, it pulls automatically.

- **From a specific branch**
git pull origin branch-name

## 3ï¸âƒ£ Deleting Branches
- **Local branch**
git branch -d branch-name   # safe delete (only if merged)
git branch -D branch-name   # force delete (even if not merged)

- **Remote branch (GitHub)**
git push origin --delete branch-name
Or delete from the GitHub UI (in the PR screen or in branch list).

- **Remove stale remote references**
git fetch -p
(-p = prune â†’ removes references to branches deleted from remote)

## 4ï¸âƒ£ Checking Branches
- **Local branches**
git branch

- **All branches (local + remote)**
git branch -a

- **Show branch & upstream link**
git status

## 5ï¸âƒ£ Creating a Pull Request (PR)
1. Commit & push your changes to your feature branch.
2. Go to GitHub â†’ "Compare & Pull Request".
3. Select:
   - Base branch â†’ `main`
   - Compare branch â†’ your feature branch
4. Add a title & description â†’ Create PR.
5. Merge:
   - Merge commit â†’ preserves all commits
   - Squash & merge â†’ combines all commits into one
   - Rebase & merge â†’ applies commits on top of base branch (clean history)

# prevent main commits:
# add file: .git/hooks/pre-commit with:
#!/bin/sh
# Prevent commits directly to main branch

branch="$(git rev-parse --abbrev-ref HEAD)"

if [ "$branch" = "main" ]; then
  echo "ðŸš« Direct push to main is disabled. Please open a feature branch."
  exit 1
fi

## 6ï¸âƒ£ Updating After Merge
After a PR is merged & branch deleted on GitHub:
# Switch to main
git switch main

# Pull latest changes
git pull

# Delete local branch
git branch -d branch-name

# Remove stale remote references
git fetch --prune

âœ… Tip: If you always want a new branch linked to `main` when you create it:
git switch -c new-branch main
git push -u origin new-branch

# check for updates in all packages
npx npm-check-updates

# update all packages
# npx npm-check-updates -u

# delete remote branch:
# > git branch -r       // show remote branches
# remotes/origin/branch-name
git push origin --delete branch-name

# update version and push
npm run bump-version

